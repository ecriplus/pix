{{! template-lint-disable no-action require-input-label no-unknown-arguments-for-builtin-components }}
{{page-title (t "pages.fill-in-certificate-verification-code.title")}}

<Global::AppLayout>
  <main role="main">
    <PixBackgroundHeader id="main">
      <PixBlock class="fill-in-certificate-verification-code">
        <h1 class="fill-in-certificate-verification-code__title">
          {{t "pages.fill-in-certificate-verification-code.first-title"}}
        </h1>

        <p class="fill-in-certificate-verification-code__description">
          {{t "pages.fill-in-certificate-verification-code.description"}}
        </p>

        <form class="fill-in-certificate-verification-code__form" autocomplete="off">
          <div class="form__input-and-label">
            <label for="certificate-verification-code">
              {{t "pages.fill-in-certificate-verification-code.label"}}
            </label>
            <PixInput
              required
              class="input-code"
              type="text"
              id="certificate-verification-code"
              @value={{this.certificateVerificationCode}}
              maxlength="10"
              {{on "keyup" this.clearErrors}}
              {{on "input" this.handleVerificationCodeInput}}
            />
          </div>

          <PixButton @type="submit" @triggerAction={{this.checkCertificate}} class="form__actions">
            {{t "pages.fill-in-certificate-verification-code.verify"}}
          </PixButton>

          {{#if this.errorMessage}}
            <div class="form__error--validation" aria-live="polite">
              {{this.errorMessage}}
            </div>
          {{/if}}

          {{#if this.showNotFoundCertificationErrorMessage}}
            <PixNotificationAlert @type="error" @withIcon={{true}}>
              {{t "pages.fill-in-certificate-verification-code.errors.not-found"}}
            </PixNotificationAlert>
          {{/if}}
        </form>
      </PixBlock>
    </PixBackgroundHeader>
  </main>
</Global::AppLayout>