<h1 class="account-recovery__content--title">
  {{t "pages.account-recovery.find-sco-record.backup-email-confirmation.email-is-needed-message" firstName=@firstName}}
</h1>

<div class="account-recovery__content--step--content">
  {{#if @existingEmail}}
    <div id="backup-email-confirmation-already-associated-error-message">
      <p class="account-recovery__content--information-text">
        {{t "pages.account-recovery.find-sco-record.backup-email-confirmation.email-already-exist-for-account-message"}}
        <strong>{{@existingEmail}}</strong>
      </p>
      <p class="account-recovery__content--information-text--details">
        {{t "pages.account-recovery.find-sco-record.backup-email-confirmation.email-is-valid-message"}}
        <LinkTo @route="password-reset-demand">
          {{t "pages.account-recovery.find-sco-record.backup-email-confirmation.email-reset-message"}}
        </LinkTo>
        {{t "pages.account-recovery.find-sco-record.backup-email-confirmation.ask-for-new-email-message"}}
      </p>
    </div>
  {{else}}
    <p class="account-recovery__content--information-text">
      {{t "pages.account-recovery.find-sco-record.backup-email-confirmation.email-sent-to-choose-password-message"}}
    </p>
  {{/if}}

  <form onSubmit={{this.submitBackupEmailConfirmationForm}}>
    <PixInput
      @id="email"
      @value={{this.email}}
      {{on "focusout" this.validateEmail}}
      {{on "input" this.handleInputChange}}
      @requiredLabel={{true}}
      @validationStatus={{this.emailValidation.status}}
      @errorMessage={{this.emailValidation.message}}
      autocomplete="off"
      type="text"
    >
      <:label>{{t "pages.account-recovery.find-sco-record.backup-email-confirmation.form.email"}}</:label>
    </PixInput>

    {{#if @showAlreadyRegisteredEmailError}}
      <PixNotificationAlert
        @type="error"
        class="account-recovery__content--not-found-error"
        id="backup-email-confirmation-already-use-error-message"
      >
        {{t
          "pages.account-recovery.find-sco-record.backup-email-confirmation.form.error.invalid-or-already-used-email"
        }}
      </PixNotificationAlert>
    {{/if}}

    <div class="account-recovery__content--actions">
      <PixButton @triggerAction={{@cancelAccountRecovery}} @variant="secondary">
        {{t "pages.account-recovery.find-sco-record.backup-email-confirmation.form.actions.cancel"}}
      </PixButton>
      <PixButton @type="submit" @isDisabled={{not this.isSubmitButtonEnabled}}>
        {{t "pages.account-recovery.find-sco-record.backup-email-confirmation.form.actions.submit"}}
      </PixButton>
    </div>
  </form>
</div>