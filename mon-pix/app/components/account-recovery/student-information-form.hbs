{{! template-lint-disable require-input-label  no-unknown-arguments-for-builtin-components }}
<h1 class="account-recovery__content--title">
  {{t "pages.account-recovery.find-sco-record.student-information.title"}}
</h1>

<div class="account-recovery__content--step--content">
  <p class="account-recovery__content--information-text--details">
    {{t "pages.account-recovery.find-sco-record.student-information.subtitle.text"}}
    <LinkTo @route="password-reset-demand">
      {{t "pages.account-recovery.find-sco-record.student-information.subtitle.link"}}
    </LinkTo>
  </p>

  <p class="account-recovery__content--information-text--details">
    {{t "pages.account-recovery.find-sco-record.student-information.mandatory-all-fields"}}
  </p>

  <form {{on "submit" this.submit}} class="account-recovery__form">
    <PixInput
      @id="ineIna"
      type="text"
      placeholder="123456789XX"
      @value={{this.ineIna}}
      {{on "focusout" this.validateIneIna}}
      {{on "input" this.handleIneInaInput}}
      @validationStatus={{this.ineInaValidation.status}}
      @errorMessage={{this.ineInaValidation.message}}
      autocomplete="off"
    >
      <:label>
        {{t "pages.account-recovery.find-sco-record.student-information.form.ine-ina"}}

        <div class="student-information-form__tooltip">
          <PixTooltip
            @position="top-left"
            @isLight={{true}}
            @isWide={{true}}
            aria-label={{t "pages.account-recovery.find-sco-record.student-information.form.tooltip" htmlSafe=true}}
          >
            <:triggerElement>
              <PixIcon @name="help" @plainIcon={{true}} @ariaHidden={{true}} tabindex="0" />
            </:triggerElement>
            <:tooltip>
              {{t "pages.account-recovery.find-sco-record.student-information.form.tooltip" htmlSafe=true}}
            </:tooltip>
          </PixTooltip>
        </div>
      </:label>
    </PixInput>

    <PixInput
      @id="firstName"
      @value={{this.firstName}}
      {{on "focusout" this.validateFirstName}}
      {{on "input" this.handleFirstNameInput}}
      @validationStatus={{this.firstNameValidation.status}}
      @errorMessage={{this.firstNameValidation.message}}
      autocomplete="off"
      type="text"
    >
      <:label>{{t "pages.account-recovery.find-sco-record.student-information.form.first-name"}}</:label>
    </PixInput>

    <PixInput
      @id="lastName"
      @value={{this.lastName}}
      {{on "focusout" this.validateLastName}}
      {{on "input" this.handleLastNameInput}}
      @validationStatus={{this.lastNameValidation.status}}
      @errorMessage={{this.lastNameValidation.message}}
      autocomplete="off"
      type="text"
    >
      <:label>{{t "pages.account-recovery.find-sco-record.student-information.form.last-name"}}</:label>
    </PixInput>

    <div class="form-textfield">
      <p class="form-textfield__label student-information-form__birthdate-label">
        {{t "pages.account-recovery.find-sco-record.student-information.form.birthdate"}}
      </p>
      <div class="student-information-form__birthdate-fields">
        <PixInput
          min="1"
          max="31"
          type="number"
          @value={{this.dayOfBirth}}
          placeholder={{t "pages.account-recovery.find-sco-record.student-information.form.placeholder.birth-day"}}
          @id="dayOfBirth"
          {{on "input" this.handleDayInput}}
          autocomplete="off"
          @screenReaderOnly={{true}}
        >
          <:label>{{t "pages.account-recovery.find-sco-record.student-information.form.label.birth-day"}}</:label>
        </PixInput>

        <PixInput
          min="1"
          max="12"
          type="number"
          @value={{this.monthOfBirth}}
          placeholder={{t "pages.account-recovery.find-sco-record.student-information.form.placeholder.birth-month"}}
          @id="monthOfBirth"
          {{on "input" this.handleMonthInput}}
          autocomplete="off"
          @screenReaderOnly={{true}}
        >
          <:label>{{t "pages.account-recovery.find-sco-record.student-information.form.label.birth-month"}}</:label>
        </PixInput>

        <PixInput
          min="1900"
          type="number"
          @value={{this.yearOfBirth}}
          placeholder={{t "pages.account-recovery.find-sco-record.student-information.form.placeholder.birth-year"}}
          @id="yearOfBirth"
          autocomplete="off"
          {{on "input" this.handleYearInput}}
          @screenReaderOnly={{true}}
        >
          <:label>{{t "pages.account-recovery.find-sco-record.student-information.form.label.birth-year"}}</:label>
        </PixInput>
      </div>
    </div>

    {{#if @showAccountNotFoundError}}
      <PixNotificationAlert
        @type="error"
        class="account-recovery__content--not-found-error"
        id="student-information-error-message"
      >
        {{t "pages.account-recovery.find-sco-record.student-information.errors.not-found"}}
        <a
          href="{{t 'pages.account-recovery.find-sco-record.contact-support.link-url'}}"
          target="_blank"
          rel="noopener noreferrer"
        >
          {{t "pages.account-recovery.find-sco-record.contact-support.link-text"}}
        </a>
      </PixNotificationAlert>
    {{/if}}

    <PixButton @type="submit" @isDisabled={{not this.isFormValid}}>
      {{t "pages.account-recovery.find-sco-record.student-information.form.submit"}}
    </PixButton>
  </form>
</div>