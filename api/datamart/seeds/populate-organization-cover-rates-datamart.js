import { DatamartBuilder } from '../../datamart/datamart-builder/datamart-builder.js';
import { PRO_ORGANIZATION_ID } from '../../db/seeds/data/common/constants.js';

export async function seed(knex) {
  const datamartBuilder = new DatamartBuilder({ knex });
  organizationCoverRates.forEach((coverRate) => datamartBuilder.factory.buildOrganizationsCoverRates(coverRate));
  await datamartBuilder.commit();
}

const organizationCoverRates = [
  {
    tube_id: 'rec5hclRSqG7gpadZ',
    sum_user_max_level: 51,
    target_profile_id: 1,
    nb_tubes_in_competence: 3,
    domain_name: '3. Création de contenu',
    campaign_id: 4619,
    tube_practical_title: 'Alignement et styles de paragraphe',
    orga_id: PRO_ORGANIZATION_ID,
    competence_name: 'Développer des documents textuels',
    extraction_date: '2025-05-04',
    tag_name: 'PRO',
    competence_code: '3.1',
    nb_user: 42,
    max_level: 2,
  },
  {
    tube_id: 'recgrxoIilcw9uj0U',
    sum_user_max_level: 38,
    target_profile_id: 1,
    nb_tubes_in_competence: 1,
    domain_name: '4. Protection et sécurité',
    campaign_id: 4619,
    tube_practical_title: 'Mot de passe robuste',
    orga_id: PRO_ORGANIZATION_ID,
    competence_name: 'Sécuriser l’environnement numérique',
    extraction_date: '2025-05-04',
    tag_name: 'PRO',
    competence_code: '4.1',
    nb_user: 42,
    max_level: 1,
  },
  {
    tube_id: 'rec6Ic2FdcxSRYkdn',
    sum_user_max_level: 65,
    target_profile_id: 1,
    nb_tubes_in_competence: 3,
    domain_name: '5. Environnement numérique',
    campaign_id: 4619,
    tube_practical_title: 'Gestes de base de la navigation',
    orga_id: PRO_ORGANIZATION_ID,
    competence_name: 'Construire un environnement numérique',
    extraction_date: '2025-05-04',
    tag_name: 'PRO',
    competence_code: '5.2',
    nb_user: 42,
    max_level: 2,
  },
  {
    tube_id: 'recf4znvmRGaGBUNQ',
    sum_user_max_level: 41,
    target_profile_id: 1,
    nb_tubes_in_competence: 2,
    domain_name: '2. Communication et collaboration',
    campaign_id: 4619,
    tube_practical_title: "Champs d'un courriel",
    orga_id: PRO_ORGANIZATION_ID,
    competence_name: 'Interagir',
    extraction_date: '2025-05-04',
    tag_name: 'PRO',
    competence_code: '2.1',
    nb_user: 42,
    max_level: 1,
  },
  {
    tube_id: 'recjVAjbPUINn8yws',
    sum_user_max_level: 57,
    target_profile_id: 1,
    nb_tubes_in_competence: 1,
    domain_name: '2. Communication et collaboration',
    campaign_id: 4619,
    tube_practical_title: 'Diversité des réseaux sociaux',
    orga_id: PRO_ORGANIZATION_ID,
    competence_name: 'Partager et publier',
    extraction_date: '2025-05-04',
    tag_name: 'PRO',
    competence_code: '2.2',
    nb_user: 42,
    max_level: 2,
  },
  {
    tube_id: 'recZ0A49dfpPvHvWd',
    sum_user_max_level: 80,
    target_profile_id: 1,
    nb_tubes_in_competence: 1,
    domain_name: '1. Information et données',
    campaign_id: 4619,
    tube_practical_title: 'Tableurs et formats de fichier',
    orga_id: PRO_ORGANIZATION_ID,
    competence_name: 'Traiter des données',
    extraction_date: '2025-05-04',
    tag_name: 'PRO',
    competence_code: '1.3',
    nb_user: 42,
    max_level: 2,
  },
  {
    tube_id: 'rec4RO6t7qai3ODuJ',
    sum_user_max_level: 42,
    target_profile_id: 1,
    nb_tubes_in_competence: 2,
    domain_name: '1. Information et données',
    campaign_id: 4619,
    tube_practical_title: "Outils d'accès au web",
    orga_id: PRO_ORGANIZATION_ID,
    competence_name: 'Mener une recherche et une veille d’information',
    extraction_date: '2025-05-04',
    tag_name: 'PRO',
    competence_code: '1.1',
    nb_user: 42,
    max_level: 1,
  },
  {
    tube_id: 'recEYqDKNYKhfXs7M',
    sum_user_max_level: 39,
    target_profile_id: 1,
    nb_tubes_in_competence: 3,
    domain_name: '5. Environnement numérique',
    campaign_id: 4619,
    tube_practical_title: "Système d'exploitation et application",
    orga_id: PRO_ORGANIZATION_ID,
    competence_name: 'Construire un environnement numérique',
    extraction_date: '2025-05-04',
    tag_name: 'PRO',
    competence_code: '5.2',
    nb_user: 42,
    max_level: 1,
  },
  {
    tube_id: 'rectTJBNUL6lz0sEJ',
    sum_user_max_level: 69,
    target_profile_id: 1,
    nb_tubes_in_competence: 1,
    domain_name: '4. Protection et sécurité',
    campaign_id: 4619,
    tube_practical_title: "Accès d'une application aux données",
    orga_id: PRO_ORGANIZATION_ID,
    competence_name: 'Protéger les données personnelles et la vie privée',
    extraction_date: '2025-05-04',
    tag_name: 'PRO',
    competence_code: '4.2',
    nb_user: 42,
    max_level: 2,
  },
  {
    tube_id: 'recps4jQoK8zCW5wI',
    sum_user_max_level: 72,
    target_profile_id: 1,
    nb_tubes_in_competence: 1,
    domain_name: '1. Information et données',
    campaign_id: 4619,
    tube_practical_title: 'Recherche de fichier',
    orga_id: PRO_ORGANIZATION_ID,
    competence_name: 'Gérer des données',
    extraction_date: '2025-05-04',
    tag_name: 'PRO',
    competence_code: '1.2',
    nb_user: 42,
    max_level: 2,
  },
  {
    tube_id: 'recrkpItPsNRg2OjJ',
    sum_user_max_level: 51,
    target_profile_id: 1,
    nb_tubes_in_competence: 3,
    domain_name: '3. Création de contenu',
    campaign_id: 4619,
    tube_practical_title: 'Copier / coller',
    orga_id: PRO_ORGANIZATION_ID,
    competence_name: 'Développer des documents textuels',
    extraction_date: '2025-05-04',
    tag_name: 'PRO',
    competence_code: '3.1',
    nb_user: 42,
    max_level: 2,
  },
  {
    tube_id: 'recoPAkxe29Ru3r3h',
    sum_user_max_level: 92,
    target_profile_id: 1,
    nb_tubes_in_competence: 3,
    domain_name: '5. Environnement numérique',
    campaign_id: 4619,
    tube_practical_title: 'Ports informatiques',
    orga_id: PRO_ORGANIZATION_ID,
    competence_name: 'Construire un environnement numérique',
    extraction_date: '2025-05-04',
    tag_name: 'PRO',
    competence_code: '5.2',
    nb_user: 42,
    max_level: 3,
  },
  {
    tube_id: 'recdm5W4IJMW07SzW',
    sum_user_max_level: 39,
    target_profile_id: 1,
    nb_tubes_in_competence: 3,
    domain_name: '3. Création de contenu',
    campaign_id: 4619,
    tube_practical_title: 'Outils de traitement de texte',
    orga_id: PRO_ORGANIZATION_ID,
    competence_name: 'Développer des documents textuels',
    extraction_date: '2025-05-04',
    tag_name: 'PRO',
    competence_code: '3.1',
    nb_user: 42,
    max_level: 2,
  },
  {
    tube_id: 'recsoZIZxVEr3h2og',
    sum_user_max_level: 87,
    target_profile_id: 1,
    nb_tubes_in_competence: 2,
    domain_name: '1. Information et données',
    campaign_id: 4619,
    tube_practical_title: 'Recherche sur le web',
    orga_id: PRO_ORGANIZATION_ID,
    competence_name: 'Mener une recherche et une veille d’information',
    extraction_date: '2025-05-04',
    tag_name: 'PRO',
    competence_code: '1.1',
    nb_user: 42,
    max_level: 3,
  },
  {
    tube_id: 'recpcdzdxDsnCjXZ6',
    sum_user_max_level: 100,
    target_profile_id: 1,
    nb_tubes_in_competence: 2,
    domain_name: '2. Communication et collaboration',
    campaign_id: 4619,
    tube_practical_title: 'Messageries instantanées',
    orga_id: PRO_ORGANIZATION_ID,
    competence_name: 'Interagir',
    extraction_date: '2025-05-04',
    tag_name: 'PRO',
    competence_code: '2.1',
    nb_user: 42,
    max_level: 3,
  },
];
