import { PrivateCertificate } from '../../../../src/certification/results/domain/models/PrivateCertificate.js';
import { AlgorithmEngineVersion } from '../../../../src/certification/shared/domain/models/AlgorithmEngineVersion.js';
import { JuryComment, JuryCommentContexts } from '../../../../src/certification/shared/domain/models/JuryComment.js';

const buildPrivateCertificate = function ({
  id = 1,
  firstName = 'Jean',
  lastName = 'Bon',
  birthdate = '1992-06-12',
  birthplace = 'Paris',
  isPublished = true,
  userId = 1,
  certificationCenter = 'L’université du Pix',
  date = new Date('2018-12-01T01:02:03Z'),
  deliveredAt = new Date('2018-10-03T01:02:03Z'),
  commentForCandidate = null,
  commentByAutoJury = null,
  pixScore = 156,
  status = PrivateCertificate.status.VALIDATED,
  certifiedBadgeImages = [],
  resultCompetenceTree = null,
  verificationCode = 'P-BBBCCCDD',
  maxReachableLevelOnCertificationDate = 5,
  version = AlgorithmEngineVersion.V3,
  algorithmEngineVersion = AlgorithmEngineVersion.V3,
} = {}) {
  const juryComment = new JuryComment({
    commentByAutoJury,
    fallbackComment: commentForCandidate,
    context: JuryCommentContexts.CANDIDATE,
  });
  return new PrivateCertificate({
    id,
    firstName,
    lastName,
    birthdate,
    birthplace,
    isPublished,
    userId,
    certificationCenter,
    date,
    deliveredAt,
    commentForCandidate: juryComment,
    pixScore,
    status,
    resultCompetenceTree,
    certifiedBadgeImages,
    verificationCode,
    maxReachableLevelOnCertificationDate,
    version,
    algorithmEngineVersion,
  });
};

buildPrivateCertificate.cancelled = function ({
  id,
  firstName,
  lastName,
  birthdate,
  birthplace,
  isPublished,
  userId,
  certificationCenter,
  date,
  deliveredAt,
  commentForCandidate,
  commentByAutoJury,
  pixScore,
  certifiedBadgeImages,
  resultCompetenceTree,
  verificationCode,
  maxReachableLevelOnCertificationDate,
  version,
  algorithmEngineVersion,
}) {
  return buildPrivateCertificate({
    id,
    firstName,
    lastName,
    birthdate,
    birthplace,
    isPublished,
    userId,
    certificationCenter,
    date,
    deliveredAt,
    commentForCandidate,
    commentByAutoJury,
    pixScore,
    certifiedBadgeImages,
    resultCompetenceTree,
    verificationCode,
    maxReachableLevelOnCertificationDate,
    status: PrivateCertificate.status.CANCELLED,
    version,
    algorithmEngineVersion,
  });
};

buildPrivateCertificate.validated = function ({
  id,
  firstName,
  lastName,
  birthdate,
  birthplace,
  isPublished,
  userId,
  certificationCenter,
  date,
  deliveredAt,
  commentByAutoJury,
  commentForCandidate,
  pixScore,
  certifiedBadgeImages,
  resultCompetenceTree,
  verificationCode,
  maxReachableLevelOnCertificationDate,
  version,
  algorithmEngineVersion,
}) {
  return buildPrivateCertificate({
    id,
    firstName,
    lastName,
    birthdate,
    birthplace,
    isPublished,
    userId,
    certificationCenter,
    date,
    deliveredAt,
    commentForCandidate,
    commentByAutoJury,
    pixScore,
    certifiedBadgeImages,
    resultCompetenceTree,
    verificationCode,
    maxReachableLevelOnCertificationDate,
    status: PrivateCertificate.status.VALIDATED,
    version,
    algorithmEngineVersion,
  });
};

buildPrivateCertificate.rejected = function ({
  id,
  firstName,
  lastName,
  birthdate,
  birthplace,
  isPublished,
  userId,
  certificationCenter,
  date,
  deliveredAt,
  commentForCandidate,
  commentByAutoJury,
  pixScore,
  certifiedBadgeImages,
  resultCompetenceTree,
  verificationCode,
  maxReachableLevelOnCertificationDate,
  version,
  algorithmEngineVersion,
}) {
  return buildPrivateCertificate({
    id,
    firstName,
    lastName,
    birthdate,
    birthplace,
    isPublished,
    userId,
    certificationCenter,
    date,
    deliveredAt,
    commentByAutoJury,
    commentForCandidate,
    pixScore,
    certifiedBadgeImages,
    resultCompetenceTree,
    verificationCode,
    maxReachableLevelOnCertificationDate,
    status: PrivateCertificate.status.REJECTED,
    version,
    algorithmEngineVersion,
  });
};

buildPrivateCertificate.error = function ({
  id,
  firstName,
  lastName,
  birthdate,
  birthplace,
  isPublished,
  userId,
  certificationCenter,
  date,
  deliveredAt,
  commentForCandidate,
  commentByAutoJury,
  pixScore,
  certifiedBadgeImages,
  resultCompetenceTree,
  verificationCode,
  maxReachableLevelOnCertificationDate,
  version,
  algorithmEngineVersion,
}) {
  return buildPrivateCertificate({
    id,
    firstName,
    lastName,
    birthdate,
    birthplace,
    isPublished,
    userId,
    certificationCenter,
    date,
    deliveredAt,
    commentForCandidate,
    commentByAutoJury,
    pixScore,
    certifiedBadgeImages,
    resultCompetenceTree,
    verificationCode,
    maxReachableLevelOnCertificationDate,
    status: PrivateCertificate.status.ERROR,
    version,
    algorithmEngineVersion,
  });
};

buildPrivateCertificate.started = function ({
  id,
  firstName,
  lastName,
  birthdate,
  birthplace,
  isPublished,
  userId,
  certificationCenter,
  date,
  deliveredAt,
  commentForCandidate,
  commentByAutoJury,
  pixScore,
  certifiedBadgeImages,
  resultCompetenceTree,
  verificationCode,
  maxReachableLevelOnCertificationDate,
  version,
  algorithmEngineVersion,
}) {
  return buildPrivateCertificate({
    id,
    firstName,
    lastName,
    birthdate,
    birthplace,
    isPublished,
    userId,
    certificationCenter,
    date,
    deliveredAt,
    commentForCandidate,
    commentByAutoJury,
    pixScore,
    certifiedBadgeImages,
    resultCompetenceTree,
    verificationCode,
    maxReachableLevelOnCertificationDate,
    status: PrivateCertificate.status.STARTED,
    version,
    algorithmEngineVersion,
  });
};

export { buildPrivateCertificate };
